{"ast":null,"code":"import _slicedToArray from\"/home/grem15/Code/StrangersThings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import APIFetch from'./api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MessageForm=function MessageForm(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var _useState3=useState(\"Enter your message above\"),_useState4=_slicedToArray(_useState3,2),note=_useState4[0],setNote=_useState4[1];var id=props.id;var token=props.token;var fetchPosts=props.fetchPosts;return/*#__PURE__*/_jsxs(\"form\",{className:\"MessageForm\",onSubmit:function onSubmit(event){event.preventDefault();APIFetch({url:\"posts/\"+id+\"/messages/\",method:\"POST\",token:token,body:{message:{content:content}}}).then(function(response){if(response.success){console.log(response);fetchPosts();}else{setNote(response.error.message);}});},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type your message here\",value:content,onChange:function onChange(event){setContent(event.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:note}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!content,children:\"Submit\"})]});};export default MessageForm;","map":{"version":3,"sources":["/home/grem15/Code/StrangersThings/src/MessageForm.js"],"names":["React","useState","APIFetch","MessageForm","props","content","setContent","note","setNote","id","token","fetchPosts","event","preventDefault","url","method","body","message","then","response","success","console","log","error","target","value"],"mappings":"wJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,QAAP,KAAqB,OAArB,C,wFAGA,GAAMC,CAAAA,WAAW,CAAC,QAAZA,CAAAA,WAAY,CAACC,KAAD,CAClB,CACI,cAA2BH,QAAQ,CAAC,EAAD,CAAnC,wCAAOI,OAAP,eAAeC,UAAf,eACA,eAAqBL,QAAQ,CAAC,0BAAD,CAA7B,yCAAOM,IAAP,eAAYC,OAAZ,eACA,GAAMC,CAAAA,EAAE,CAACL,KAAK,CAACK,EAAf,CACA,GAAMC,CAAAA,KAAK,CAACN,KAAK,CAACM,KAAlB,CACA,GAAMC,CAAAA,UAAU,CAACP,KAAK,CAACO,UAAvB,CAIA,mBAAM,cAAM,SAAS,CAAC,aAAhB,CAA8B,QAAQ,CAAE,kBAACC,KAAD,CAC1C,CACIA,KAAK,CAACC,cAAN,GAEAX,QAAQ,CACJ,CACIY,GAAG,CAAC,SAASL,EAAT,CAAY,YADpB,CAEIM,MAAM,CAAC,MAFX,CAGIL,KAAK,CAACA,KAHV,CAIIM,IAAI,CACJ,CACIC,OAAO,CACP,CACIZ,OAAO,CAACA,OADZ,CAFJ,CALJ,CADI,CAAR,CAcCa,IAdD,CAcM,SAACC,QAAD,CACN,CACI,GAAGA,QAAQ,CAACC,OAAZ,CACA,CACIC,OAAO,CAACC,GAAR,CAAYH,QAAZ,EACAR,UAAU,GACb,CAJD,IAMA,CACIH,OAAO,CAACW,QAAQ,CAACI,KAAT,CAAeN,OAAhB,CAAP,CACH,CACJ,CAzBD,EA2BH,CA/BC,wBAgCF,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,wBAA/B,CAAwD,KAAK,CAAEZ,OAA/D,CAAwE,QAAQ,CAAE,kBAACO,KAAD,CAClF,CACIN,UAAU,CAACM,KAAK,CAACY,MAAN,CAAaC,KAAd,CAAV,CACH,CAHD,EAhCE,cAoCF,aApCE,cAqCF,mBAAIlB,IAAJ,EArCE,cAsCF,eAAQ,IAAI,CAAC,QAAb,CAAsB,QAAQ,CAAE,CAACF,OAAjC,oBAtCE,GAAN,CAwCH,CAlDD,CAoDA,cAAeF,CAAAA,WAAf","sourcesContent":["import React, { useState } from 'react';\nimport APIFetch from './api';\n\n\nconst MessageForm=(props)=>\n{\n    const [content,setContent]=useState(\"\");\n    const [note,setNote]=useState(\"Enter your message above\");\n    const id=props.id\n    const token=props.token;\n    const fetchPosts=props.fetchPosts;\n\n\n\n    return<form className=\"MessageForm\" onSubmit={(event)=>\n        {\n            event.preventDefault();\n    \n            APIFetch(\n                {\n                    url:\"posts/\"+id+\"/messages/\",\n                    method:\"POST\",\n                    token:token,\n                    body:\n                    {\n                        message:\n                        {\n                            content:content\n                        }\n                    }\n                }\n            )\n            .then((response)=>\n            {\n                if(response.success)\n                {\n                    console.log(response);\n                    fetchPosts();\n                }\n                else\n                {\n                    setNote(response.error.message);\n                }\n            })\n            \n        }}> \n        <input type=\"text\" placeholder=\"Type your message here\" value={content} onChange={(event)=>\n        {\n            setContent(event.target.value);\n        }}/>\n        <br />\n        <p>{note}</p>\n        <button type=\"submit\" disabled={!content}>Submit</button>\n    </form>;\n}\n\nexport default MessageForm;"]},"metadata":{},"sourceType":"module"}