{"ast":null,"code":"import _slicedToArray from\"/home/grem15/Code/StrangersThings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import APIFetch from'./api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostForm=function PostForm(props){var token=props.token;var fetchPosts=props.fetchPosts;var setShowCreatePost=props.setShowCreatePost;var post=props.post;var _useState=useState(post?post.title:\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(post?post.description:\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(post?post.price:\"\"),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(post?post.location:\"\"),_useState8=_slicedToArray(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var _useState9=useState(post?post.willDeliver:false),_useState10=_slicedToArray(_useState9,2),willDeliver=_useState10[0],setWillDeliver=_useState10[1];var _useState11=useState(\"Fill out the form. Title, Description, and Price are required. Location will default to [On Request] if left empty.\"),_useState12=_slicedToArray(_useState11,2),message=_useState12[0],setMessage=_useState12[1];return/*#__PURE__*/_jsxs(\"form\",{className:\"PostForm\",onSubmit:function onSubmit(event){event.preventDefault();APIFetch({url:\"posts/\"+(post?post._id:\"\"),method:post?\"PATCH\":\"POST\",token:token,body:{post:{title:title,description:description,price:price,location:location?location:\"[On Request]\",willDeliver:willDeliver}}}).then(function(response){if(response.success){setMessage(response.data.message);fetchPosts();if(!post){setShowCreatePost();}}else{setMessage(response.error.message);}});},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Post Form:\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",placeholder:\"Title\",value:title,onChange:function onChange(event){setTitle(event.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",placeholder:\"Description\",value:description,onChange:function onChange(event){setDescription(event.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",placeholder:\"Price\",value:price,onChange:function onChange(event){setPrice(event.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Location\",value:location,onChange:function onChange(event){setLocation(event.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:willDeliver,onChange:function onChange(){setWillDeliver(!willDeliver);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Will Deliver.\",children:\"Will Deliver.\"})]}),/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!title||!description||!price,children:\"Submit\"})]});};export default PostForm;","map":{"version":3,"sources":["/home/grem15/Code/StrangersThings/src/PostForm.js"],"names":["React","useState","APIFetch","PostForm","props","token","fetchPosts","setShowCreatePost","post","title","setTitle","description","setDescription","price","setPrice","location","setLocation","willDeliver","setWillDeliver","message","setMessage","event","preventDefault","url","_id","method","body","then","response","success","data","error","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport APIFetch from './api';\n\n\nconst PostForm =(props)=>\n{\n    const token=props.token;\n    const fetchPosts=props.fetchPosts;\n    const setShowCreatePost=props.setShowCreatePost;\n    const post=props.post;\n\n    const [title,setTitle]=useState(post ? post.title:\"\");\n    const [description,setDescription]=useState(post ? post.description:\"\");\n    const [price,setPrice]=useState(post ? post.price:\"\");\n    const [location,setLocation]=useState(post ? post.location:\"\");\n    const [willDeliver,setWillDeliver]=useState(post ? post.willDeliver:false);\n    const [message,setMessage]=useState(\"Fill out the form. Title, Description, and Price are required. Location will default to [On Request] if left empty.\");\n    \n    return <form className=\"PostForm\" onSubmit={(event)=>\n    {\n        event.preventDefault();\n\n        APIFetch(\n            {\n                url:\"posts/\"+(post ? post._id:\"\"),\n                method:post ? \"PATCH\":\"POST\",\n                token:token,\n                body:\n                {\n                    post:\n                    {\n                        title:title,\n                        description:description,\n                        price:price,\n                        location:location ? location:\"[On Request]\",\n                        willDeliver:willDeliver\n                    }\n                }\n            }\n        )\n        .then((response)=>\n        {\n            if(response.success)\n            {\n                setMessage(response.data.message);\n                fetchPosts();\n                if(!post)\n                {\n                    setShowCreatePost();\n                }\n            }\n            else\n            {\n                setMessage(response.error.message);\n            }\n        })\n        \n    }}>\n        <h2>Post Form:</h2>\n        <input required type=\"text\" placeholder=\"Title\" value={title} onChange={(event)=>\n        {\n            setTitle(event.target.value);\n        }}/>\n        <br />\n        <input required type=\"text\" placeholder=\"Description\" value={description} onChange={(event)=>\n        {\n            setDescription(event.target.value);\n        }}/>\n        <br />\n        <input required type=\"text\" placeholder=\"Price\" value={price} onChange={(event)=>\n        {\n            setPrice(event.target.value);\n        }}/>\n        <br />\n        <input type=\"text\" placeholder=\"Location\" value={location} onChange={(event)=>\n        {\n            setLocation(event.target.value);\n        }}/>\n        <br />\n        <div>\n            <input type=\"checkbox\" checked={willDeliver}  onChange={()=>\n            {\n                setWillDeliver(!willDeliver);\n            }}/>\n            <label htmlFor=\"Will Deliver.\">Will Deliver.</label>\n            </div>\n\n        <p>{message}</p>\n\n        <button type=\"submit\" disabled={!title||!description||!price}>Submit</button>\n    </form>\n}\n\nexport default PostForm;"]},"metadata":{},"sourceType":"module"}