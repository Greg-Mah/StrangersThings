{"ast":null,"code":"import _slicedToArray from\"/home/grem15/Code/StrangersThings/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import APIFetch from'./api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserForm=function UserForm(props){var setToken=props.setToken;var setUser=props.setUser;var type=props.type;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),confirmPassword=_useState6[0],setConfirmPassword=_useState6[1];var _useState7=useState(\"Enter username and password to \"+type+\".\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),hidden=_useState10[0],setHidden=_useState10[1];useEffect(function(){if(confirmPassword){if(confirmPassword!==password){var output=\"Password match o=matching character, x=wrong character, _=missing character, *=extra character:\";for(var i=0;i<password.length||i<confirmPassword.length;i++){if(i<password.length){if(i<confirmPassword.length){if(password.charAt(i)===confirmPassword.charAt(i)){output+=\"o\";}else{output+=\"x\";}}else{output+=\"_\";}}else{output+=\"*\";}}setMessage(output);}else{setMessage(\"Passwords match!\");}}else{setMessage(\"Enter username and password to \"+type+\".\");}},[confirmPassword]);return/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){event.preventDefault();APIFetch({url:\"users/\"+type,method:\"POST\",body:{user:{username:username,password:password}}}).then(function(response){if(response.success){setToken(response.data.token);setMessage(response.data.message);setUser(username);}else{setMessage(response.error.message);}});},children:[/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(Link,{to:\"/account/\"+type+\"/\",children:type.toUpperCase()})}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",placeholder:\"Username\",value:username,onChange:function onChange(event){setUsername(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{required:true,type:hidden?\"password\":\"text\",placeholder:\"Password\",value:password,onChange:function onChange(event){setPassword(event.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:hidden,value:hidden,onChange:function onChange(){setHidden(!hidden);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Hide Password\",children:\"Hide Password\"})]}),type===\"register\"?/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\",placeholder:\"Confirm Password\",value:confirmPassword,onChange:function onChange(event){setConfirmPassword(event.target.value);}}):null,/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!username||!password||type===\"register\"&&password!==confirmPassword,children:type})]});};export default UserForm;","map":{"version":3,"sources":["/home/grem15/Code/StrangersThings/src/UserForm.js"],"names":["React","useEffect","useState","Link","APIFetch","UserForm","props","setToken","setUser","type","username","setUsername","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","hidden","setHidden","output","i","length","charAt","event","preventDefault","url","method","body","user","then","response","success","data","token","error","toUpperCase","target","value"],"mappings":"wJAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,OAArB,C,wFAGA,GAAMC,CAAAA,QAAQ,CAAE,QAAVA,CAAAA,QAAU,CAACC,KAAD,CAChB,CACI,GAAMC,CAAAA,QAAQ,CAACD,KAAK,CAACC,QAArB,CACA,GAAMC,CAAAA,OAAO,CAACF,KAAK,CAACE,OAApB,CACA,GAAMC,CAAAA,IAAI,CAACH,KAAK,CAACG,IAAjB,CAGA,cAA6BP,QAAQ,CAAC,EAAD,CAArC,wCAAOQ,QAAP,eAAgBC,WAAhB,eACA,eAA6BT,QAAQ,CAAC,EAAD,CAArC,yCAAOU,QAAP,eAAgBC,WAAhB,eACA,eAA2CX,QAAQ,CAAC,EAAD,CAAnD,yCAAOY,eAAP,eAAuBC,kBAAvB,eACA,eAA2Bb,QAAQ,CAAC,kCAAkCO,IAAlC,CAAuC,GAAxC,CAAnC,yCAAOO,OAAP,eAAeC,UAAf,eACA,eAAyBf,QAAQ,CAAC,IAAD,CAAjC,0CAAOgB,MAAP,gBAAcC,SAAd,gBAEAlB,SAAS,CAAC,UACV,CACI,GAAGa,eAAH,CACA,CACI,GAAGA,eAAe,GAAGF,QAArB,CACA,CACI,GAAIQ,CAAAA,MAAM,CAAC,iGAAX,CACA,IAAI,GAAIC,CAAAA,CAAC,CAAC,CAAV,CAAYA,CAAC,CAACT,QAAQ,CAACU,MAAX,EAAmBD,CAAC,CAACP,eAAe,CAACQ,MAAjD,CAAwDD,CAAC,EAAzD,CACA,CACI,GAAGA,CAAC,CAACT,QAAQ,CAACU,MAAd,CACA,CACI,GAAGD,CAAC,CAACP,eAAe,CAACQ,MAArB,CACA,CACI,GAAGV,QAAQ,CAACW,MAAT,CAAgBF,CAAhB,IAAqBP,eAAe,CAACS,MAAhB,CAAuBF,CAAvB,CAAxB,CACA,CACID,MAAM,EAAE,GAAR,CACH,CAHD,IAKA,CACIA,MAAM,EAAE,GAAR,CACH,CACJ,CAVD,IAYA,CACIA,MAAM,EAAE,GAAR,CACH,CACJ,CAjBD,IAmBA,CACIA,MAAM,EAAE,GAAR,CACH,CACJ,CACDH,UAAU,CAACG,MAAD,CAAV,CACH,CA7BD,IA+BA,CACIH,UAAU,CAAC,kBAAD,CAAV,CACH,CACJ,CApCD,IAsCA,CACIA,UAAU,CAAC,kCAAkCR,IAAlC,CAAuC,GAAxC,CAAV,CACH,CACJ,CA3CQ,CA2CP,CAACK,eAAD,CA3CO,CAAT,CA8CA,mBAAO,cAAM,QAAQ,CAAE,kBAACU,KAAD,CACvB,CACIA,KAAK,CAACC,cAAN,GACArB,QAAQ,CACJ,CACIsB,GAAG,CAAC,SAASjB,IADjB,CAEIkB,MAAM,CAAC,MAFX,CAGIC,IAAI,CACJ,CACIC,IAAI,CACJ,CACInB,QAAQ,CAACA,QADb,CAEIE,QAAQ,CAACA,QAFb,CAFJ,CAJJ,CADI,CAAR,CAcCkB,IAdD,CAcM,SAACC,QAAD,CACN,CACI,GAAGA,QAAQ,CAACC,OAAZ,CACA,CACIzB,QAAQ,CAACwB,QAAQ,CAACE,IAAT,CAAcC,KAAf,CAAR,CACAjB,UAAU,CAACc,QAAQ,CAACE,IAAT,CAAcjB,OAAf,CAAV,CACAR,OAAO,CAACE,QAAD,CAAP,CACH,CALD,IAOA,CACIO,UAAU,CAACc,QAAQ,CAACI,KAAT,CAAenB,OAAhB,CAAV,CACH,CACJ,CA1BD,EA4BH,CA/BM,wBAgCH,iCAAI,KAAC,IAAD,EAAM,EAAE,CAAE,YAAYP,IAAZ,CAAiB,GAA3B,UAAiCA,IAAI,CAAC2B,WAAL,EAAjC,EAAJ,EAhCG,cAiCH,cAAO,QAAQ,KAAf,CAAgB,IAAI,CAAC,MAArB,CAA4B,WAAW,CAAC,UAAxC,CAAmD,KAAK,CAAE1B,QAA1D,CAAoE,QAAQ,CAAE,kBAACc,KAAD,CAC9E,CACIb,WAAW,CAACa,KAAK,CAACa,MAAN,CAAaC,KAAd,CAAX,CACH,CAHD,EAjCG,cAqCH,cAAO,QAAQ,KAAf,CAAgB,IAAI,CAAEpB,MAAM,CAAG,UAAH,CAAe,MAA3C,CAAmD,WAAW,CAAC,UAA/D,CAA0E,KAAK,CAAEN,QAAjF,CAA2F,QAAQ,CAAE,kBAACY,KAAD,CACrG,CACIX,WAAW,CAACW,KAAK,CAACa,MAAN,CAAaC,KAAd,CAAX,CACH,CAHD,EArCG,cAyCH,oCACI,cAAO,IAAI,CAAC,UAAZ,CAAuB,OAAO,CAAEpB,MAAhC,CAAwC,KAAK,CAAEA,MAA/C,CAAwD,QAAQ,CAAE,mBAClE,CACIC,SAAS,CAAC,CAACD,MAAF,CAAT,CACH,CAHD,EADJ,cAKI,cAAO,OAAO,CAAC,eAAf,2BALJ,GAzCG,CAgDFT,IAAI,GAAG,UAAP,cACD,cAAO,QAAQ,KAAf,CAAgB,IAAI,CAAC,UAArB,CAAgC,WAAW,CAAC,kBAA5C,CAA+D,KAAK,CAAEK,eAAtE,CAAuF,QAAQ,CAAE,kBAACU,KAAD,CACjG,CACIT,kBAAkB,CAACS,KAAK,CAACa,MAAN,CAAaC,KAAd,CAAlB,CACH,CAHD,EADC,CAMA,IAtDE,cAwDH,mBAAItB,OAAJ,EAxDG,cA0DH,eAAQ,IAAI,CAAC,QAAb,CAAsB,QAAQ,CAAE,CAACN,QAAD,EAAW,CAACE,QAAZ,EAAuBH,IAAI,GAAG,UAAP,EAAmBG,QAAQ,GAAGE,eAArF,UAAwGL,IAAxG,EA1DG,GAAP,CA4DH,CAvHD,CAyHA,cAAeJ,CAAAA,QAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport APIFetch from './api';\n\n\nconst UserForm =(props)=>\n{\n    const setToken=props.setToken;\n    const setUser=props.setUser;\n    const type=props.type;\n\n    \n    const [username,setUsername]=useState(\"\");\n    const [password,setPassword]=useState(\"\");\n    const [confirmPassword,setConfirmPassword]=useState(\"\");\n    const [message,setMessage]=useState(\"Enter username and password to \"+type+\".\");\n    const [hidden,setHidden]=useState(true);\n    \n    useEffect(()=>\n    {\n        if(confirmPassword)\n        {\n            if(confirmPassword!==password)\n            {\n                let output=\"Password match o=matching character, x=wrong character, _=missing character, *=extra character:\";\n                for(let i=0;i<password.length||i<confirmPassword.length;i++)\n                {\n                    if(i<password.length)\n                    {\n                        if(i<confirmPassword.length)\n                        {\n                            if(password.charAt(i)===confirmPassword.charAt(i))\n                            {\n                                output+=\"o\";\n                            }\n                            else\n                            {\n                                output+=\"x\";\n                            }\n                        }\n                        else\n                        {\n                            output+=\"_\";\n                        }\n                    }\n                    else\n                    {\n                        output+=\"*\";\n                    }\n                }\n                setMessage(output);\n            }\n            else\n            {\n                setMessage(\"Passwords match!\")\n            }\n        }\n        else\n        {\n            setMessage(\"Enter username and password to \"+type+\".\");\n        }\n    },[confirmPassword])\n\n\n    return <form onSubmit={(event)=>\n    {\n        event.preventDefault();\n        APIFetch(\n            {\n                url:\"users/\"+type,\n                method:\"POST\",\n                body:\n                {\n                    user:\n                    {\n                        username:username,\n                        password:password\n                    }\n                }\n            }\n        )\n        .then((response)=>\n        {\n            if(response.success)\n            {\n                setToken(response.data.token);\n                setMessage(response.data.message);\n                setUser(username);\n            }\n            else\n            {\n                setMessage(response.error.message);\n            }\n        })\n        \n    }}>\n        <h2><Link to={\"/account/\"+type+\"/\"}>{type.toUpperCase()}</Link></h2>\n        <input required type=\"text\" placeholder=\"Username\" value={username} onChange={(event)=>\n        {\n            setUsername(event.target.value);\n        }}/>\n        <input required type={hidden ? \"password\": \"text\"} placeholder=\"Password\" value={password} onChange={(event)=>\n        {\n            setPassword(event.target.value);\n        }}/>\n        <div>\n            <input type=\"checkbox\" checked={hidden} value={hidden}  onChange={()=>\n            {\n                setHidden(!hidden);\n            }}/>\n            <label htmlFor=\"Hide Password\">Hide Password</label>\n        </div>\n        {type===\"register\" ?\n        <input required type=\"password\" placeholder=\"Confirm Password\" value={confirmPassword} onChange={(event)=>\n        {\n            setConfirmPassword(event.target.value);\n        }}/>\n        \n        :null}\n        \n        <p>{message}</p>\n\n        <button type=\"submit\" disabled={!username||!password||(type===\"register\"&&password!==confirmPassword)}>{type}</button>\n    </form>\n}\n\nexport default UserForm;\n"]},"metadata":{},"sourceType":"module"}